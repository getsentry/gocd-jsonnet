{
   "example-monitor.yaml": {
      "format_version": 10,
      "pipelines": {
         "region-deploy-example-monitor": {
            "group": "example-region-deployments",
            "materials": {
               "example_repo": {
                  "branch": "master",
                  "destination": "example",
                  "git": "git@github.com:getsentry/example.git",
                  "shallow_clone": true
               },
               "upstream_pipeline": {
                  "pipeline": "region-deploy-example-us",
                  "stage": "pipeline-complete"
               }
            },
            "region": "monitor",
            "stages": [
               {
                  "example_stage": { }
               },
               {
                  "pipeline-complete": {
                     "approval": {
                        "allow_only_on_success": true,
                        "type": "success"
                     },
                     "jobs": {
                        "pipeline-complete": {
                           "tasks": [
                              {
                                 "exec": {
                                    "command": true
                                 }
                              }
                           ]
                        }
                     }
                  }
               }
            ]
         }
      }
   },
   "example-us.yaml": {
      "format_version": 10,
      "pipelines": {
         "region-deploy-example-us": {
            "group": "example-region-deployments",
            "materials": {
               "example_repo": {
                  "branch": "master",
                  "destination": "example",
                  "git": "git@github.com:getsentry/example.git",
                  "shallow_clone": true
               },
               "upstream_pipeline": {
                  "pipeline": "deploy-example",
                  "stage": "pipeline-complete"
               }
            },
            "region": "us",
            "stages": [
               {
                  "example_stage": { }
               },
               {
                  "pipeline-complete": {
                     "approval": {
                        "allow_only_on_success": true,
                        "type": "success"
                     },
                     "jobs": {
                        "pipeline-complete": {
                           "tasks": [
                              {
                                 "exec": {
                                    "command": true
                                 }
                              }
                           ]
                        }
                     }
                  }
               }
            ]
         }
      }
   },
   "example.yaml": {
      "format_version": 10,
      "pipelines": {
         "deploy-example": {
            "group": "example",
            "lock_behavior": "unlockWhenFinished",
            "materials": {
               "init_repo": {
                  "branch": "master",
                  "destination": "init",
                  "git": "git@github.com:getsentry/init.git",
                  "shallow_clone": true
               }
            },
            "stages": [
               {
                  "pipeline-complete": {
                     "jobs": {
                        "pipeline-complete": {
                           "tasks": [
                              {
                                 "exec": {
                                    "command": true
                                 }
                              }
                           ]
                        }
                     }
                  }
               }
            ]
         }
      }
   }
}
